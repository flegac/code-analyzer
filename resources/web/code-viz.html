<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Code Viz 3D</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/3d-force-graph"></script>
    <script src="https://unpkg.com/chroma-js@2.4.2/chroma.min.js"></script>
    <script src="tree-view.js"></script>
    <script src="infos.js"></script>
    <script src="controls.js"></script>
    <script src="legend.js"></script>
    <script src="lib.js"></script>
    <script src="utils.js"></script>

    <!--    <script src="https://unpkg.com/3d-force-graph"></script>-->
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="graph"></div>
<script>
    const display = new GraphDisplay()

    document.getElementById('reloadBtn').addEventListener('click', () => display.loadGraph());
    window.addEventListener('DOMContentLoaded', () => display.loadGraph());
    window.addEventListener('resize', () => {
        if (!display.graphInstance) return;
        const width = window.innerWidth;
        const height = window.innerHeight;
        display.graphInstance.width(width);
        display.graphInstance.height(height);

        const renderer = display.graphInstance.renderer();
        const camera = display.graphInstance.camera();
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
    });
</script>

</body>
</html>
